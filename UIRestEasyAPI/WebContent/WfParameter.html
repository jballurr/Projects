<!DOCTYPE html>
<html lang="en" ng-app="ApiParameter">

<head>

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<meta name="author" content="">

	<title>AS Rest API Admin DashBoard</title>

	<!-- Bootstrap Core CSS -->
	<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<!-- Custom CSS -->
	<link href="bootstrap/css/sb-admin.css" rel="stylesheet">
	<!-- Custom Fonts -->
	<link href="bootstrap/font-awesome/css/font-awesome.min.css"
		  rel="stylesheet" type="text/css">


</head>

<body ng-controller="WFParameterController">

<div id="wrapper">

	<!-- Navigation -->
	<nav class="navbar navbar-inverse navbar-fixed-top" >
		<!-- Brand and toggle get grouped for better mobile display -->

		<!-- Top Menu Items -->
		<div class="navbar navbar-inverse">
			<div class="container">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse"
							data-target=".navbar-collapse">
						<span class="sr-only">Toggle navigation</span> <span
							class="icon-bar"></span> <span class="icon-bar"></span> <span
							class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="#">Rest Easy API Admin DashBoard</a>
				</div>
				<div class="navbar-collapse collapse">
					<ul class="nav navbar-nav">
						<li class="active"><a href="#">Admin Home</a></li>

					</ul>
				</div>
				<!--/.nav-collapse -->
			</div>
		</div>


		<!-- Sidebar Menu Items - These collapse to the responsive navigation menu on small screens -->
		<div class="collapse navbar-collapse navbar-ex1-collapse">
			<ul class="nav navbar-nav side-nav">
				<li class="active"><a href="ApiParameter.html"><i
						class="fa fa-fw fa-dashboard"></i>API Parameter</a></li>
				<li class="active"><a href="WfParameter.html"><i
						class="fa fa-fw fa-dashboard"></i> API Report Parameters</a></li>
			</ul>
		</div>
		<!-- /.navbar-collapse -->
	</nav>

	<div id="page-wrapper">

		<div class="container-fluid">
			<!-- Page Heading -->
			<div class="row">
				<div class="col-lg-6">
					<h1 class="page-header">
						API WORKFLOW REPORT OPERATIONS
						<!--   <small>Statistics Overview</small> -->
					</h1>
				</div>
			</div>

			<div class="col-md-12" ng-show="showupdateform">

				<div class="col-md-4">

					<button type="button" class="btn btn-success"
							ng-click="goToAPIList()" >Go Back to API list
					</button>

					<button type="button" class="btn btn-success"
							ng-click="showAPIForm()" >Perform Updates</button>


				</div>
				<br>
				<div ng-show="showtable">
					<table class="table table-bordered table-hover table-striped">
						<thead>
						<tr>
							<th>API ID</th>
							<th>REFERENCE API</th>
							<th>PRIORITY</th>
							<th>API URL</th>
							<th>INPUT PARAMETERS</th>
							<th>PARAMETERS TO CHECK</th>
							<th>HTTP METHOD</th>
							<th>PATH PARAMS</th>
						</tr>
						</thead>
						<tbody>

						<tr ng-repeat="x in inserteddata track by $index">
							<td ng-trim="false">{{x.apiID}}</td>
							<td ng-trim="false">{{x.refAPI}}</td>
							<td ng-trim="false">{{x.sequence}}</td>
							<td ng-trim="false">{{x.apiURL}}</td>
							<td ng-trim="false">{{x.inputParams}}</td>
							<td ng-trim="false">{{x.checkParam}}</td>
							<td ng-trim="false">{{x.httpMethod}}</td>
							<td ng-trim="false">{{x.pathParams}}</td>
						</tr>
						</tbody>
					</table>
				</div>
			</div>

			<br>
			<div ng-show="ShowUpdateDeleteForm" id="updateWF_by_id">

				<div class="col-md-4">

					<button type="button" class="btn btn-success"
							ng-click="goToAPIList()" >Go Back to API list
					</button>

					<button type="button" class="btn btn-success"
							ng-click="showAPIDataList()">Go to View Mode</button>

					<button type="button" class="btn btn-success"
							ng-click="showInsertParaForm()" >Insert New Parameter</button>

				</div>

				<br></br>

				<div class="col-lg-12">
					<form role="form"  ng-model="UpdateApiColumn" name=x.form novalidate >
						<table class="table table-bordered table-hover table-striped">
							<thead>
							<tr>
								<th>API ID</th>
								<th>REFERENCE API</th>
								<th>PRIORITY</th>
								<th>API URL</th>
								<th>INPUT PARAMETERS</th>
								<th>PARAMETERS TO CHECK</th>
								<th>HTTP METHOD</th>
								<th>PATH PARAMS</th>
							</tr>
							</thead>
							<tbody>
							<tr ng-repeat="x in list ">

								<td><input type="number" class="form-control" name="apiID" ng-model="x.apiID" placeholder="{{x.apiID}}" required ng-minlength="1" ng-maxlength="10"></td>
								<td><input type="text" class="form-control" name="refAPI" ng-model="x.refAPI" placeholder="{{ x.refAPI}}"  ></td>
								<td><input type="number" class="form-control" name="sequence" ng-model="x.sequence" required min="1" max="20"
										   placeholder="{{x.sequence}}" ></td>
								<td><input type="text" class="form-control" name="apiURL" ng-model="x.apiURL"placeholder="{{x.apiURL}}" required  pattern="http://.+" ></td>
								<td><input class="form-control"	name="inputParams" ng-model="x.inputParams" placeholder="{{x.inputParams}}" required pattern="^[a-zA-Z0-9:,]*$" ></td>
								<td><input type="text" class="form-control" name="checkParam" ng-model="x.checkParam" placeholder="{{x.checkParam}}"></td>
								<td><input class="form-control"	name="httpMethod" ng-model="x.httpMethod" placeholder="{{x.httpMethod}}" required ></td>
								<td><input type="text" class="form-control" name="pathParams" ng-model="x.pathParams" placeholder="{{x.pathParams}}"></td>
								<td><button type="submit" class="btn btn-default" ng-click="updateValue(x)" ng-disabled="x.form.$invalid" ><b>Update</b></button></td>
								<td><button type="submit" class="btn btn-default" ng-click="deleteColumn(x.columnid)" ng-disabled="x.form.$invalid" ><b>Delete</b></button></td>
							</tr>
							</tbody>
						</table>
						<!-- <button type="submit" class="btn btn-default" ng-click="InsertParaToDB(insertdata)" ><b>ADD PARAMETERS</b></button>-->
					</form>
				</div>
			</div>

			<br>
			<!-- insert para display -->
			<div class="row" ng-show="InsertParaForm">


				<div>
					<button type="button" class="btn btn-success"
							ng-click="goToAPIList()">Go Back to API list
					</button>

					<button type="button" class="btn btn-success"
							ng-click="showAPIDataList()" >Go to View Mode</button>

					<button type="button" class="btn btn-success"
							ng-click="showAPIForm()" >Perform Updates</button>


				</div>

				<div>
					<div class="col-lg-12">
						<div class="panel panel-default">
							<!-- ng-show="showInsertForm" -->
							<div class="panel-heading">
								<h3 class="panel-title">
									<i class=""></i> Insert New Parameters
								</h3>
							</div>
							<div class="panel-body">

								<form name=wfColumn.form novalidate >
									<div class="form-group">
										<div class="row">
											<div class="col-md-4">

												<label>API NAME</label>
												<input type="text" disbled class="form-control" name="apiID" diabled value={{selectedAPI}}
													   ng-model="wfColumn.apiID">
											</div>


											<div class="col-md-4">
												<div class="form-group">
													<label>Reference API</label>
													<select class="form-control" name="refAPI"
															ng-model="wfColumn.refAPI" ng-options= "item for item in refNames" >
													</select>
												</div>
											</div>
											<div class="col-md-4">
												<div class="form-group">
													<label>Sequence</label>
													<input type="number"
														   class="form-control" name=apiURL
														   ng-model="wfColumn.sequence" value="{{wfColumn.sequence}}" required  max=20 min=1>

												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-md-4">
											<div class="form-group">
												<label>API URL</label> <input type="text"
																			  class="form-control" name=apiURL
																			  ng-model="wfColumn.apiURL" value="{{wfColumn.apiURL}}" required  pattern="http://.+" title="Include http://">
												<p class="help-block"> Include http://</p>
											</div>
										</div>

										<div class="col-md-4">
											<div class="form-group">
												<label>Input Param</label> <input type="text"
																				  class="form-control" name="inputParams"
																				  ng-model="wfColumn.inputParams" value="{{wfColumn.inputParams}}" required pattern="^[a-zA-Z0-9:,]*$">
												<p class="help-block">SAN:SAN,DealName:DealName,Price:Price,Quantity:Quantity</p>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-md-6">
											<div class="form-group">
												<label>Check Param</label> <input class="form-control"
																				  name="checkParam" ng-model="wfColumn.checkParam"
																				  value={{wfColumn.checkParam}} >
												<p class="help-block">{"PARAMS":[{"Name":"AccountStatus","Value":"10100","Location":"AccountInforResponseMessage"}]}</p>
											</div>
										</div>
										<div class="col-md-2">
											<div class="form-group">
												<label>Http Method</label>
												<select class="form-control"
														name=httpMethod ng-model="wfColumn.httpMethod" >
													<option value="{{wfColumn.httpMethod}}">POST</option>
													<option value="{{wfColumn.httpMethod}}">GET</option>
												</select>
											</div>
										</div>
										<div class="col-md-4">
											<div class="form-group">
												<label>Path Params</label> <input class="form-control"
																				  name="pathParams" ng-model="wfColumn.pathParams" value="{{wfColumn.pathParams}}" >
												<p class="help-block">
													SAN/ESN
												</p>
											</div>
										</div>
									</div>
									<button type="submit" class="btn btn-default" ng-disabled="wfColumn.form.$invalid" ng-click="addwfPara()">
										<b>INSERT</b>
									</button>
								</form>
							</div>
						</div>
					</div>
					<!-- /.row -->
				</div>

			</div>
			<!--  end insert-->
		</div>
		<!-- /.container-fluid -->

	</div>
	<!-- /#page-wrapper -->

</div>
<!-- /#wrapper -->
</div>
<!-- jQuery -->
<script src="bootstrap/js/jquery.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="bootstrap/js/bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
<script src="MainController.js" type="text/javascript"></script>

<script>
    setTimeout(function() {
        document.body.style.background = 'white';
    }, 100000);

    window.onload = function() {
        document.body.style.background = 'white';

    };

</script>


<!-- Morris Charts JavaScript
<script src="bootstrap/js/plugins/morris/raphael.min.js"></script>
<script src="bootstrap/js/plugins/morris/morris.min.js"></script>
<script src="bootstrap/js/plugins/morris/morris-data.js"></script> -->
</body>

</html>
